main:
  params:
  - "input"
  steps:
  - Run_1:
      try:
        steps:
        - Run_call:
            call: "googleapis.workflowexecutions.v1.projects.locations.workflows.executions.run"
            args:
              workflow_id: "${(input.headWorkflow + \"${WORKFLOW_ENV}\")}"
              argument: "${input.input}"
              location: "${sys.get_env(\"GOOGLE_CLOUD_LOCATION\")}"
              project_id: "${sys.get_env(\"GOOGLE_CLOUD_PROJECT_ID\")}"
              connector_params:
                skip_polling: false
            result: "RunResult_8f1bf43"
      retry: "${http.default_retry}"
  - foldWorkflows:
      steps:
      - foldWorkflows_initResult:
          assign:
          - foldWorkflowsResult_3a33c854: "${RunResult_8f1bf43}"
      - foldWorkflows_steps:
          for:
            value: "foldWorkflowsValue"
            in: "${input.tail}"
            steps:
            - Run:
                try:
                  steps:
                  - Run_call_1:
                      call: "googleapis.workflowexecutions.v1.projects.locations.workflows.executions.run"
                      args:
                        workflow_id: "${(foldWorkflowsValue.workflowName + \"${WORKFLOW_ENV}\")}"
                        argument:
                          input: "${foldWorkflowsResult_3a33c854}"
                          params: "${foldWorkflowsValue.params}"
                          env:
                            userId: "${input.env.userId}"
                            model: "${input.env.model}"
                            callingWorkflowExec: "${default(sys.get_env(\"GOOGLE_CLOUD_WORKFLOW_EXECUTION_ID\"), null)}"
                            BASE_URL: "${input.env.BASE_URL}"
                            background: "${default(map.get(input.env, \"background\"), null)}"
                            projectId: "${input.env.projectId}"
                            sessionId: "${input.env.sessionId}"
                        location: "${sys.get_env(\"GOOGLE_CLOUD_LOCATION\")}"
                        project_id: "${sys.get_env(\"GOOGLE_CLOUD_PROJECT_ID\")}"
                        connector_params:
                          skip_polling: false
                      result: "RunResult_3da63e97"
                retry: "${http.default_retry}"
            - foldWorkflows_updateResult:
                assign:
                - foldWorkflowsResult_3a33c854: "${RunResult_3da63e97}"
  - return:
      return: "${foldWorkflowsResult_3a33c854}"
